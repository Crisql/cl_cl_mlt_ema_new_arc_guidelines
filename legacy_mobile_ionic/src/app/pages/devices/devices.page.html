<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title>{{ 'PRINTERS.PRINTERS' | translate }}</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-list>
    <ion-list-header color="light">
      {{'PRINTERS.CONFIG' | translate}}
    </ion-list-header>
    <ion-item>
      <ion-label position="stacked"
        >{{ 'PRINTERS.PRINTINGTYPE' | translate }}</ion-label
      >
      <ion-select
        [formControl]="printingType"
        (ionChange)="OnChangePrintingType()"
      >
        <ion-select-option value="1"> ZPL </ion-select-option>
        <ion-select-option value="2"> PDF </ion-select-option>
      </ion-select>
    </ion-item>
    <ion-item button detail (click)="DiscoverDevices()">
      <ion-label>{{ 'BUTTONS.SEARCH DEVICES' | translate }}</ion-label>
    </ion-item>
    <ion-item button detail (click)="Disconnect()" lines="none">
      <ion-label>
        {{ 'BUTTONS.DISCONNECTING FROM A DEVICE' | translate }}
      </ion-label>
    </ion-item>
    <ion-list-header color="light">
      <ion-label> {{ 'PRINTERS.PAIRED DEVICES' | translate }} </ion-label>
      <ion-spinner
        class="ion-margin-end"
        *ngIf="searchingPaired"
        name="lines"
      ></ion-spinner>
    </ion-list-header>
    <ion-item *ngFor="let device of pairedDevices">
      <ion-label> {{device.name ? device.name: device.address}} </ion-label>
      <ion-button fill="clear" slot="end" (click)="Connect(device)">
        <ion-icon slot="icon-only" name="cog"></ion-icon>
      </ion-button>
    </ion-item>
    <ion-list-header color="light">
      <ion-label>{{ 'PRINTERS.AVAILABLE DEVICES' | translate }}</ion-label>
      <ion-spinner
        class="ion-margin-end"
        *ngIf="searchingUnpaired"
        name="lines"
      ></ion-spinner>
    </ion-list-header>
    <ion-item *ngFor="let device of unpairedDevices">
      <ion-label> {{device.name ? device.name : device.address}} </ion-label>
      <ion-button fill="clear" slot="end" (click)="Connect(device)">
        <ion-icon slot="icon-only" name="cog"></ion-icon>
      </ion-button>
    </ion-item>
  </ion-list>
</ion-content>
